/* web/src/assets/styles/main.css */

/* CSS 변수 import */
@import './variables.css';

/* CSS Reset 및 기본 설정 */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 16px;
  line-height: var(--line-height-lg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-family-base);
  color: var(--text-color-primary);
  background-color: var(--bg-color-base);
  min-height: 100vh;
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
}

/* 기본 요소 스타일 */
a {
  color: inherit;
  text-decoration: none;
  transition: var(--transition-colors);
}

a:hover {
  color: var(--color-primary);
}

button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  background: none;
  padding: 0;
  transition: var(--transition-all);
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

input, textarea, select {
  font-family: inherit;
  font-size: inherit;
}

/* 스크롤바 커스터마이징 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--gray-100);
  border-radius: var(--border-radius-sm);
}

::-webkit-scrollbar-thumb {
  background: var(--gray-400);
  border-radius: var(--border-radius-sm);
  transition: var(--transition-colors);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--gray-500);
}

/* 선택 텍스트 스타일 */
::selection {
  background-color: rgba(var(--color-primary-rgb), 0.2);
  color: var(--text-color-primary);
}

::-moz-selection {
  background-color: rgba(var(--color-primary-rgb), 0.2);
  color: var(--text-color-primary);
}

/* Element Plus 커스터마이징 */
.el-card {
  border-radius: var(--card-border-radius) !important;
  border: none !important;
  box-shadow: var(--card-shadow) !important;
  background-color: var(--bg-color-page) !important;
}

.el-button {
  border-radius: var(--border-radius-lg) !important;
  font-weight: var(--font-weight-medium) !important;
  letter-spacing: 0.5px;
  transition: var(--transition-all) !important;
}

.el-button--primary {
  background-color: var(--color-primary) !important;
  border-color: var(--color-primary) !important;
}

.el-button--primary:hover {
  background-color: var(--color-primary-light) !important;
  border-color: var(--color-primary-light) !important;
}

.el-button--success {
  background-color: var(--color-success) !important;
  border-color: var(--color-success) !important;
}

.el-button--warning {
  background-color: var(--color-warning) !important;
  border-color: var(--color-warning) !important;
}

.el-button--danger {
  background-color: var(--color-danger) !important;
  border-color: var(--color-danger) !important;
}

.el-input__wrapper {
  border-radius: var(--border-radius-lg) !important;
  box-shadow: var(--box-shadow-xs) !important;
  transition: var(--transition-all) !important;
  background-color: var(--bg-color-page) !important;
  border-color: var(--border-color-base) !important;
}

.el-input__wrapper:hover {
  box-shadow: var(--box-shadow-sm) !important;
}

.el-input__wrapper.is-focus {
  border-color: var(--color-primary) !important;
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2) !important;
}

.el-input__inner {
  color: var(--text-color-primary) !important;
}

.el-input__inner::placeholder {
  color: var(--text-color-placeholder) !important;
}

.el-form-item__label {
  font-weight: var(--font-weight-semibold) !important;
  color: var(--text-color-primary) !important;
  margin-bottom: var(--spacing-2) !important;
}

.el-tabs__header {
  margin-bottom: var(--spacing-5) !important;
}

.el-tabs__item {
  font-weight: var(--font-weight-medium) !important;
  color: var(--text-color-regular) !important;
}

.el-tabs__item.is-active {
  color: var(--color-primary) !important;
}

.el-divider {
  margin: var(--spacing-6) 0 !important;
  border-color: var(--border-color-light) !important;
}

.el-alert {
  border-radius: var(--border-radius-lg) !important;
}

.el-message {
  border-radius: var(--border-radius-lg) !important;
}

/* 유틸리티 클래스 */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.flex { display: flex; }
.flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}
.flex-between {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.flex-column {
  display: flex;
  flex-direction: column;
}
.flex-wrap { flex-wrap: wrap; }
.flex-1 { flex: 1; }

/* 간격 유틸리티 */
.gap-1 { gap: var(--spacing-1); }
.gap-2 { gap: var(--spacing-2); }
.gap-3 { gap: var(--spacing-3); }
.gap-4 { gap: var(--spacing-4); }

/* 마진 유틸리티 */
.m-0 { margin: 0; }
.m-1 { margin: var(--spacing-1); }
.m-2 { margin: var(--spacing-2); }
.m-3 { margin: var(--spacing-3); }
.m-4 { margin: var(--spacing-4); }

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: var(--spacing-1); }
.mt-2 { margin-top: var(--spacing-2); }
.mt-3 { margin-top: var(--spacing-3); }
.mt-4 { margin-top: var(--spacing-4); }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--spacing-1); }
.mb-2 { margin-bottom: var(--spacing-2); }
.mb-3 { margin-bottom: var(--spacing-3); }
.mb-4 { margin-bottom: var(--spacing-4); }

.ml-0 { margin-left: 0; }
.ml-1 { margin-left: var(--spacing-1); }
.ml-2 { margin-left: var(--spacing-2); }
.ml-3 { margin-left: var(--spacing-3); }
.ml-4 { margin-left: var(--spacing-4); }

.mr-0 { margin-right: 0; }
.mr-1 { margin-right: var(--spacing-1); }
.mr-2 { margin-right: var(--spacing-2); }
.mr-3 { margin-right: var(--spacing-3); }
.mr-4 { margin-right: var(--spacing-4); }

/* 패딩 유틸리티 */
.p-0 { padding: 0; }
.p-1 { padding: var(--spacing-1); }
.p-2 { padding: var(--spacing-2); }
.p-3 { padding: var(--spacing-3); }
.p-4 { padding: var(--spacing-4); }

.pt-0 { padding-top: 0; }
.pt-1 { padding-top: var(--spacing-1); }
.pt-2 { padding-top: var(--spacing-2); }
.pt-3 { padding-top: var(--spacing-3); }
.pt-4 { padding-top: var(--spacing-4); }

.pb-0 { padding-bottom: 0; }
.pb-1 { padding-bottom: var(--spacing-1); }
.pb-2 { padding-bottom: var(--spacing-2); }
.pb-3 { padding-bottom: var(--spacing-3); }
.pb-4 { padding-bottom: var(--spacing-4); }

.pl-0 { padding-left: 0; }
.pl-1 { padding-left: var(--spacing-1); }
.pl-2 { padding-left: var(--spacing-2); }
.pl-3 { padding-left: var(--spacing-3); }
.pl-4 { padding-left: var(--spacing-4); }

.pr-0 { padding-right: 0; }
.pr-1 { padding-right: var(--spacing-1); }
.pr-2 { padding-right: var(--spacing-2); }
.pr-3 { padding-right: var(--spacing-3); }
.pr-4 { padding-right: var(--spacing-4); }

/* 크기 유틸리티 */
.w-full { width: 100%; }
.w-auto { width: auto; }
.h-full { height: 100%; }
.h-auto { height: auto; }
.h-screen { height: 100vh; }
.min-h-screen { min-height: 100vh; }

/* 모양 유틸리티 */
.rounded { border-radius: var(--border-radius-lg); }
.rounded-sm { border-radius: var(--border-radius-sm); }
.rounded-lg { border-radius: var(--border-radius-xl); }
.rounded-full { border-radius: var(--border-radius-full); }

/* 그림자 유틸리티 */
.shadow { box-shadow: var(--box-shadow-base); }
.shadow-sm { box-shadow: var(--box-shadow-sm); }
.shadow-lg { box-shadow: var(--box-shadow-lg); }
.shadow-xl { box-shadow: var(--box-shadow-xl); }
.shadow-none { box-shadow: none; }

/* 색상 유틸리티 */
.text-primary { color: var(--color-primary); }
.text-success { color: var(--color-success); }
.text-warning { color: var(--color-warning); }
.text-danger { color: var(--color-danger); }
.text-info { color: var(--color-info); }

.bg-primary { background-color: var(--color-primary); }
.bg-success { background-color: var(--color-success); }
.bg-warning { background-color: var(--color-warning); }
.bg-danger { background-color: var(--color-danger); }
.bg-info { background-color: var(--color-info); }

/* 위치 유틸리티 */
.relative { position: relative; }
.absolute { position: absolute; }
.fixed { position: fixed; }
.sticky { position: sticky; }

/* 오버플로우 유틸리티 */
.overflow-hidden { overflow: hidden; }
.overflow-auto { overflow: auto; }
.overflow-x-hidden { overflow-x: hidden; }
.overflow-y-hidden { overflow-y: hidden; }

/* 안전 영역 유틸리티 */
.safe-area-top {
  padding-top: max(var(--spacing-4), env(safe-area-inset-top));
}

.safe-area-bottom {
  padding-bottom: max(var(--spacing-4), env(safe-area-inset-bottom));
}

.safe-area-left {
  padding-left: max(var(--spacing-4), env(safe-area-inset-left));
}

.safe-area-right {
  padding-right: max(var(--spacing-4), env(safe-area-inset-right));
}

/* 반응형 디자인 */
@media (max-width: 768px) {
  .el-card {
    margin: var(--spacing-2) !important;
  }

  .el-form-item__label {
    font-size: var(--font-size-sm) !important;
  }

  .el-button {
    font-size: var(--font-size-sm) !important;
    padding: var(--spacing-2) var(--spacing-4) !important;
  }

  /* 모바일 전용 유틸리티 */
  .hidden-mobile { display: none !important; }
}

@media (max-width: 480px) {
  .el-card {
    margin: var(--spacing-1) !important;
    border-radius: var(--border-radius-base) !important;
  }

  /* 작은 모바일 전용 유틸리티 */
  .hidden-small-mobile { display: none !important; }
}

@media (min-width: 769px) {
  .hidden-desktop { display: none !important; }
}

/* 접근성 개선 */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* 포커스 표시 개선 */
.el-input__wrapper:focus-within {
  outline: 2px solid var(--color-primary) !important;
  outline-offset: 2px !important;
}

.el-button:focus {
  outline: 2px solid var(--color-primary) !important;
  outline-offset: 2px !important;
}

/* 로딩 애니메이션 */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(var(--spacing-5));
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.loading-pulse {
  animation: pulse 2s var(--transition-timing-function) infinite;
}

.loading-spin {
  animation: spin 1s linear infinite;
}

/* 메시지 스타일 */
.error-text {
  color: var(--color-danger);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-1);
}

.success-text {
  color: var(--color-success);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-1);
}

.warning-text {
  color: var(--color-warning);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-1);
}

.info-text {
  color: var(--color-info);
  font-size: var(--font-size-sm);
  margin-top: var(--spacing-1);
}

/* 사용자 정의 애니메이션 */
.fade-enter-active,
.fade-leave-active {
  transition: opacity var(--transition-duration-base) var(--transition-timing-function);
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

.slide-up-enter-active,
.slide-up-leave-active {
  transition: transform var(--transition-duration-base) var(--transition-timing-function);
}

.slide-up-enter-from,
.slide-up-leave-to {
  transform: translateY(var(--spacing-5));
}

/* QR 안전교육 앱 전용 스타일 */
.qr-scanner-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--qr-scanner-overlay-color);
  z-index: var(--z-index-modal);
}

.qr-guide-box {
  width: 200px;
  height: 200px;
  border: var(--qr-scanner-guide-width) solid var(--qr-scanner-guide-color);
  border-radius: var(--border-radius-xl);
  position: relative;
}

.qr-guide-box::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border: 2px solid rgba(var(--color-primary-rgb), 0.3);
  border-radius: var(--border-radius-xl);
  animation: pulse 2s infinite;
}

.progress-bar {
  height: 6px;
  background-color: var(--progress-background);
  border-radius: 3px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background-color: var(--progress-complete-color);
  border-radius: 3px;
  transition: width var(--transition-duration-base) var(--transition-timing-function);
}

.certificate-border {
  border: 2px solid var(--certificate-seal-color);
  border-radius: var(--border-radius-2xl);
  position: relative;
}

.certificate-border::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  right: 4px;
  bottom: 4px;
  border: 1px solid rgba(103, 194, 58, 0.3);
  border-radius: var(--border-radius-xl);
}

/* 인쇄 스타일 */
@media print {
  body {
    background: white !important;
    color: black !important;
  }

  .no-print {
    display: none !important;
  }

  .el-card {
    box-shadow: none !important;
    border: 1px solid #ddd !important;
  }
}
